<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Koliba Zlatá podkova | Šport a zábava | rezervácia</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/image (3).png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- =======================================================
  * Template Name: Restaurantly - v3.1.0
  * Template URL: https://bootstrapmade.com/restaurantly-restaurant-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

    <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-cente">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-lg-between">

      <h1 class="logo me-auto me-lg-0"><a href="index.html"></a></h1>
      <!-- Uncomment below if you prefer to use an image logo -->
      <a href="index.html" class="logo me-auto me-lg-0"><img src="assets/img/logoBBig.png" alt="" class="img-fluid" style="max-height: 70px;"></a>

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a class="nav-link scrollto active" href="index.html">Domov</a></li>
          <li><a class="nav-link scrollto" href="restaurant.html">Reštaurácia</a></li>
          <li><a class="nav-link scrollto" href="party_koliba.html">Párty koliba</a></li>
          <li><a class="nav-link scrollto" href="wedding.html">Svadba</a></li>
          <li><a class="nav-link scrollto" href="accpmmodation.html">Ubytovanie</a></li>
          <li><a class="nav-link scrollto" href="sports fields.html">Šport a zábava</a></li>

          <li class="dropdown"><a href="#"><span>Pre firmy</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              
                <ui>
                  <li>
              <li><a href="teambuildings.html">Teambuildingy</a></li>
              
            </ul>
          </li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
        
  
      </div>
    </header><!-- End Header -->

  <main id="main">
    

    



    <!-- ======= Contact Section ======= -->
   <section id="book-a-table" class="book-a-table">
  <style>
    .custom-checkbox {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 16px;
      color: #333;
      user-select: none;
      font-weight: 500;
    }

    .custom-checkbox input {
      display: none;
    }

    .custom-checkbox .checkmark {
      width: 20px;
      height: 20px;
      background-color: #f5f5eb;
      border: 2px solid #c7a556;
      margin-right: 10px;
      position: relative;
      border-radius: 4px;
      box-shadow: inset 0 0 1px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .custom-checkbox input:checked + .checkmark::after {
      content: "✔";
      color: #c7a556;
      font-size: 14px;
      font-weight: bold;
    }
    #price-container {
  text-align: center;
  margin-top: 15px;
}

#price-estimate {
  font-weight: bold;
  font-size: 1.2rem;
  color: #000; /* Čierna farba */
}

.price-label {
  color: #000;
  display: block;
  font-weight: normal;
  margin-bottom: 5px;
}
  </style>

  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>
      <h2></h2>

      <h2>Rezervácia ihriska</h2>
      <p>Vyplňte formulár a rezervujte si ihrisko.</p>
    </div>

    <form action="forms/book-ihriska.php" method="post" role="form" class="php-email-form" data-aos="fade-up" data-aos-delay="100">
      <div class="row">
        <div class="col-lg-4 col-md-6 form-group">
          <input type="text" name="name" class="form-control" placeholder="Vaše meno" required>
        </div>
        <div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
          <input type="email" class="form-control" name="email" placeholder="Váš email" required>
        </div>
        <div class="col-lg-4 col-md-6 form-group mt-3 mt-md-0">
          <input type="text" class="form-control" name="phone" placeholder="Vaše telefónne číslo" required>
        </div>

        <div class="col-lg-4 col-md-6 form-group mt-3">
          <label for="date">Dátum rezervácie</label>
          <input type="date" name="date" id="date" class="form-control" required>
        </div>
        <div class="col-lg-4 col-md-6 form-group mt-3">
          <label for="pitch">Ihrisko</label>
          <select class="form-control" name="pitch" id="pitch" required>
            <option value="">Vyberte ihrisko</option>
            <option value="Futbal">Futbal</option>
            <option value="Tenis">Tenis</option>
            <option value="Volejbal">Volejbal</option>
          </select>
        </div>
        <div class="col-lg-4 col-md-6 form-group mt-3">
          <label for="time">Voľné časy</label>
          <select name="time" id="time" class="form-control" required>
            <option value="">Najskôr vyberte dátum a ihrisko</option>
          </select>
        </div>

        <div class="col-lg-4 col-md-6 form-group mt-3">
          <input type="number" class="form-control" name="duration" id="duration" placeholder="Trvanie (min)" required>
        </div>

        <!-- Šatňa -->
        <div class="col-lg-4 col-md-6 form-group mt-3">
          <label class="custom-checkbox">
            <input type="checkbox" name="locker" value="yes">
            <span class="checkmark"></span>
            Chcem použiť šatňu
          </label>
        </div>

        <!-- Tlačidlo modalu -->
        <div class="col-lg-4 col-md-6 form-group mt-3 text-center">
          <button type="button" class="btn btn-outline-secondary w-100" data-bs-toggle="modal" data-bs-target="#scheduleModal" onclick="loadSchedule()">Zobraziť obsadenosť</button>
        </div>
      </div>

      <div class="form-group mt-3">
        <textarea class="form-control" name="message" rows="5" placeholder="Správa"></textarea>
      </div>
<div class="mb-3">
  <div class="loading">Načítava sa...</div>
  <div class="error-message"></div>
  <div class="sent-message">Vaša rezervácia bola úspešne odoslaná. Ďakujeme!</div>
</div>
<div class="form-group mt-3 text-center" id="price-container">
  <label class="price-label">Odhadovaná cena:</label>
  <div id="price-estimate">0 €</div>
</div>
      <div class="text-center"><button type="submit">Rezervovať teraz</button></div>
      <div class="g-recaptcha" data-sitekey=""></div>
    </form>
    
  </div>
</section>

<!-- Modal -->
<div class="modal fade" id="scheduleModal" tabindex="-1" aria-labelledby="scheduleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="scheduleModalLabel">Harmonogram obsadenosti</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Zavrieť"></button>
      </div>
      <div class="modal-body">
        <div id="schedule-table" class="table-responsive text-center">
          Načítava sa...
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Script -->
<script>
  const dateInput = document.getElementById('date');
  const fieldSelect = document.getElementById('pitch');
  const timeSelect = document.getElementById('time');
  const durationInput = document.getElementById('duration');

  function loadAvailableTimes() {
    const date = dateInput.value;
    const field = fieldSelect.value;
    const duration = durationInput.value || 60;

    if (date && field && duration) {
      fetch(`forms/get-available-times.php?date=${date}&field=${field}&duration=${duration}`)
        .then(response => response.json())
        .then(times => {
          timeSelect.innerHTML = '<option value="">Vyberte čas</option>';
          if (times.length === 0) {
            timeSelect.innerHTML = '<option value="">Žiadne voľné časy</option>';
          } else {
            times.forEach(time => {
              const option = document.createElement('option');
              option.value = time;
              option.textContent = time;
              timeSelect.appendChild(option);
            });
          }
        });
    }
  }

  
function loadSchedule() {
  const dateInput = document.getElementById("date");
  const pitchInput = document.getElementById("pitch");

  const date = dateInput.value;
  const pitch = pitchInput.value;

  if (!date || !pitch) {
    alert("Najskôr vyberte dátum a ihrisko.");
    return;
  }

  fetch(`forms/get-available-times.php?date=${date}&pitch=${pitch}`)
    .then(res => res.json())
    .then(data => {
      const startDate = new Date(date);
      const table = document.createElement("table");
      table.className = "table table-bordered text-center";

      const thead = document.createElement("thead");
      const headerRow = document.createElement("tr");
      headerRow.innerHTML = "<th>Čas</th>";
      for (let i = 0; i < 7; i++) {
        const d = new Date(startDate);
        d.setDate(d.getDate() + i);
        const dayLabel = d.toLocaleDateString("sk-SK", { weekday: "short", day: "2-digit", month: "2-digit" });
        const th = document.createElement("th");
        th.textContent = dayLabel;
        headerRow.appendChild(th);
      }
      thead.appendChild(headerRow);
      table.appendChild(thead);

      const tbody = document.createElement("tbody");
      for (let hour = 8; hour <= 22; hour++) {
        const row = document.createElement("tr");
        const timeCell = document.createElement("td");
        timeCell.textContent = `${hour}:00`;
        row.appendChild(timeCell);

        for (let i = 0; i < 7; i++) {
          const d = new Date(startDate);
          d.setDate(d.getDate() + i);
          const dayStr = d.toISOString().split("T")[0];
          const slotKey = `${dayStr} ${hour.toString().padStart(2, "0")}:00`;

          const cell = document.createElement("td");
          cell.textContent = data[slotKey] ? "Rezervované" : "Voľné";
          cell.classList.add(data[slotKey] ? "text-danger" : "text-success");
          row.appendChild(cell);
        }

        tbody.appendChild(row);
      }
      table.appendChild(tbody);

      const scheduleContainer = document.getElementById("schedule-table");
      scheduleContainer.innerHTML = "";
      scheduleContainer.appendChild(table);
    })
    .catch(err => {
      document.getElementById("schedule-table").innerHTML = "<p class='text-danger'>Nepodarilo sa načítať obsadenosť.</p>";
    });
}


  dateInput.addEventListener('change', loadAvailableTimes);
  fieldSelect.addEventListener('change', loadAvailableTimes);
  durationInput.addEventListener('change', loadAvailableTimes);
</script>

<!-- End Book A Table Section --><!-- End Book Accommodation Section --><!-- End Contact Section -->

  </main><!-- End #main -->

   <!-- ======= Footer ======= -->
   <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">
          
          <!-- Kontakt -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Kontakt</h3>
              <p>
                Telefón: 055/6740488<br>
                Email: <a href="mailto:office@zlatapodkova.sk">office@zlatapodkova.sk</a><br>
                <a href="mailto:koliba.sportovisko@gmail.com">koliba.sportovisko@gmail.com</a>
              </p>
            </div>
          </div>
          
          <!-- Otváracie hodiny -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Otváracie hodiny</h3>
              <p>
                Pondelok: 11:00 – 22:00<br>
                Utorok: 11:00 – 22:00<br>
                Streda: 11:00 – 22:00<br>
                Štvrtok: 11:00 – 22:00<br>
                Piatok: 11:00 – 23:00<br>
                Sobota: 11:00 – 23:00<br>
                Nedeľa: 11:00 – 21:00
              </p>
            </div>
          </div>
          
          <!-- Adresa -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Adresa</h3>
              <p>
                Sídlisko KVP II., Szabadošova 04023<br>
                Košice, Slovenská republika
              </p>
              <a href="https://www.google.com/maps/search/?api=1&query=Sídlisko+KVP+II.,+Szabadošova+3140,+Košice" target="_blank">Zobraziť mapu</a>
            </div>
          </div>
          
          <!-- Sociálne siete -->
          <div class="col-lg-3 col-md-6">
            <div class="footer-info">
              <h3>Sociálne siete</h3>
              <div class="social-links mt-3">
                
                <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
                <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
                
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>

    

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>
<script>
  const pitch = document.getElementById("pitch");
  const time = document.getElementById("time");
  const date = document.getElementById("date");
  const duration = document.getElementById("duration");
  const locker = document.querySelector("input[name='locker']");
  const priceField = document.getElementById("price-estimate");

  function updatePrice() {
    const pitchVal = pitch.value;
    const timeVal = time.value;
    const dateVal = date.value;
    const durationVal = parseInt(duration.value);
    const useLocker = locker.checked;

    if (!pitchVal || !timeVal || !dateVal || !durationVal) {
      priceField.textContent = "0 €";
      return;
    }

    const day = new Date(dateVal).getDay(); // 0 = Nedeľa, 6 = Sobota
    const hour = parseInt(timeVal.split(":")[0]);

    const isWeekend = (day === 0 || day === 6);
    const isEvening = hour >= 16;

    let basePrice = 0;

    const pricing = {
      "Futbal": {
        "60": [15, 20],
        "90": [20, 25],
        "120": [25, 30]
      },
      "Tenis": {
        "60": [13, 15],
        "90": [17, 20],
        "120": [20, 25]
      },
      "Volejbal": {
        "60": [15, 20],
        "90": [20, 25],
        "120": [25, 30]
      }
    };

    const category = pricing[pitchVal];
    const key = [60, 90, 120].includes(durationVal) ? durationVal.toString() : null;

    if (category && key) {
      if (isWeekend) {
        basePrice = category[key][1];
      } else {
        basePrice = isEvening ? category[key][1] : category[key][0];
      }
    }

    if (useLocker) {
      basePrice += 5;
    }

    priceField.textContent = basePrice.toFixed(2) + " €";
  }

  pitch.addEventListener("change", updatePrice);
  time.addEventListener("change", updatePrice);
  date.addEventListener("change", updatePrice);
  duration.addEventListener("input", updatePrice);
  locker.addEventListener("change", updatePrice);
</script>

</html>